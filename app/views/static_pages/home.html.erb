<!--setting up the format for home page-->
<% provide(:name, "Email Archive") %>
<h1>Grinnell CS Email Archive</h1>
<% @search = Message.search(params[:q]) %>
<%= search_form_for @search, url: messages_url do |f| %>

  <%= f.label :author_cont, "Author" %>
  <%= f.search_field :author_cont %>
  <br/>
  <br/>
  <%= f.label :subject_cont, "Subject" %>
  <%= f.search_field :subject_cont %>
  <br/>
  <br/>
  <%= f.label :content_cont, "Content" %>
  <%= f.search_field :content_cont %>
  <br/>
  <br/>
  <%= f.label :created_at, "Date" %>
  <%= f.search_field :created_at_gteq %>
  <%= " to " %>
  <%= f.search_field :created_at_lteq %>
  <%= " (YYYY-MM-DD)" %>
  <br/>
  <%= f.submit 'Search', :class => 'search'%>
  <br/>
  <br/>
<% end %>
  
  
  </br>

<h3> Search by tag</h3>


<% ActsAsTaggableOn::Tag.all.each do |tag|%>
  <%= link_to String(tag), messages_url << "?tag=" << String(tag), { :class=>"tags-home" } %>
<% end %>


</br>
----------------------------------------------------
</br>
</br>

<%= link_to 'Newest Messages', messages_url, { :class=>"newest" } %>

<%=render 'messages/footer' %>
</div>
